<div class="container mx-auto px-4 py-8">
  <h1 class="text-2xl font-bold text-green-700 mb-6">Créer un Nouveau Produit</h1>

  <form (submit)="onSubmit()" class="bg-white p-6 shadow-md rounded-lg">
    
    <!-- Nom du Produit -->
    <div class="mb-4">
      <label for="name" class="block text-sm font-semibold text-gray-700">Nom du Produit</label>
      <input
        id="name"
        [(ngModel)]="product.name"
        name="name"
        class="w-full border-2 border-gray-300 rounded-md p-2 mt-1 focus:outline-none focus:border-green-500 transition"
      />
    </div>

    <!-- Description du Produit -->
    <div class="mb-4">
      <label for="description" class="block text-sm font-semibold text-gray-700">Description</label>
      <textarea
        id="description"
        [(ngModel)]="product.description"
        name="description"
        class="w-full border-2 border-gray-300 rounded-md p-2 mt-1 focus:outline-none focus:border-green-500 transition"
      ></textarea>
    </div>

    <!-- Prix du Produit -->
    <div class="mb-4">
      <label for="price" class="block text-sm font-semibold text-gray-700">Prix</label>
      <input
        id="price"
        type="number"
        [(ngModel)]="product.price"
        name="price"
        class="w-full border-2 border-gray-300 rounded-md p-2 mt-1 focus:outline-none focus:border-green-500 transition"
      />
    </div>
    <div class="mb-4">
      <label for="promo_price" class="block text-sm font-semibold text-gray-700">Prix Promo</label>
      <input
        id="promo_price"
        type="number"
        [(ngModel)]="product.promo_price"
        name="promo_price"
        class="w-full border-2 border-gray-300 rounded-md p-2 mt-1 focus:outline-none focus:border-green-500 transition"
      />
    </div>

    <!-- Stock du Produit -->
    <div class="mb-4">
      <label for="stock" class="block text-sm font-semibold text-gray-700">Stock</label>
      <input
        id="stock"
        type="number"
        [(ngModel)]="product.stock"
        name="stock"
        class="w-full border-2 border-gray-300 rounded-md p-2 mt-1 focus:outline-none focus:border-green-500 transition"
        min="0"
      />
    </div>

    <!-- Catégorie du Produit -->
    <div class="mb-4">
      <label for="category" class="block text-sm font-semibold text-gray-700">Catégorie</label>
      <select
        id="category"
        [(ngModel)]="product.category_id"
        name="category"
        class="w-full border-2 border-gray-300 rounded-md p-2 mt-1 focus:outline-none focus:border-green-500 transition"
      >
        <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
      </select>
    </div>

    <!-- Téléchargement de l'Image du Produit -->
    <div class="mb-4">
      <label for="image" class="block text-sm font-semibold text-gray-700">Image du Produit</label>
      
      <!-- Input de Fichier Personnalisé -->
      <div class="relative">
        <input
          id="image"
          type="file"
          (change)="onImageChange($event)"
          name="image"
          class="absolute inset-0 opacity-0 cursor-pointer"
        />
        <button
          type="button"
          class="w-full py-2 px-4 border-2 border-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-100 focus:outline-none"
        >
          Choisir une Image
        </button>
      </div>
      
      <!-- Aperçu de l'Image -->
      <div *ngIf="imagePreview" class="mt-2">
        <p class="text-sm text-gray-600">Aperçu :</p>
        <img [src]="imagePreview" alt="Aperçu de l'Image" class="w-32 h-32 object-cover rounded-md mt-2" />
      </div>
    </div>
    <!-- Bouton Soumettre -->
    <button
      type="submit"
      class="bg-green-700 text-white px-4 py-2 rounded-md hover:bg-green-600 transition"
    >
      Enregistrer le Produit
    </button>
  </form>
</div>
